<html>
<head>
<meta charset='utf-8' />
<title>Flashcards</title>
<script src="vue.min.js"></script>
<script src="d3.min.js"></script>
</head>
<body>
<div id="app">
        <button class="btn btn-primary" v-on:click="Next">Next</button>
        <button class="btn btn-primary" v-on:click="Rand">Rand</button>
        <h3 style='width:500px' v-on:click="Showme=true">DETAIL：<label v-text="Detail"></label></h3>
        <h3>ID{{ xid }}</h3>
        <h2 style='width:500px' v-on:click="Rand" v-show="Showme">DS {{ Disease }}<br />
        CL {{ Cat }} {{ Class }}<br />
        MT {{ Method }}<br />
        <span style="color:rgb(255,30,30)">RX {{ Rx }}</span><br /></h2>

    </div>

    <script src="Content/vue/dist/vue.js"></script>
    <script type="text/javascript">
    function rang(min,max){
    var cur=max-min+1;
    return Math.floor(Math.random()*cur+min);
    }
    var ddd;
    d3.csv("ddd", function(dd) {console.log(dd);ddd=dd});
    //Model
    var data = {
        Detail: '',
        Disease: '',
        Class: '',
        Method: '',
        Rx: '',
        Cat: '',
        Showme: false,
        xid: 0,
    }

    //ViewModel
    var vue = new Vue({
        el: '#app',
        data: data,
        methods: {
            Next: function (event) {
                // `this` 在方法里指当前 Vue 实例
                //alert('Next ' + this.Detail + '!');
                this.xid++;
                this.Detail=ddd[this.xid].detail;
                this.Disease=ddd[this.xid].disease;
                this.Class=ddd[this.xid].classi;
                this.Cat=ddd[this.xid].cat;
                this.Method=ddd[this.xid].method;
                this.Rx=ddd[this.xid].rx;
                this.Showme=false;
            },
            Rand: function (event2){
                this.xid=rang(1,ddd.length);
                this.xid++;
                this.Detail=ddd[this.xid].detail;
                this.Disease=ddd[this.xid].disease;
                this.Class=ddd[this.xid].classi;
                this.Cat=ddd[this.xid].cat;
                this.Method=ddd[this.xid].method;
                this.Rx=ddd[this.xid].rx;         
                this.Showme=false;
            }
        }
    });
    </script>
</body>
</html>
